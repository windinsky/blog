var fs = require('fs');

exports.camelcase = function(str){
	if (!str instanceof String || 0 === str.length) {
		return '';
	};
	return str.split('_').map(function(s){
		return s[0].toUpperCase() + s.substr(1);
	}).join('');
};

exports.lcamelcase = function(str){
	if (!str instanceof String || 0 === str.length) {
		return '';
	};
	return str.split('_').map(function(s,i){
		if (!i) {
			return s;
		};
		return s[0].toUpperCase() + s.substr(1);
	}).join();
}

function truncateFolderSync(path, recursive){
	
	var exists = fs.existsSync(path)
	if (exists) {
		var files = fs.readdirSync(path);
		files.forEach(function(file){
			if (file === '.' || file === '..') return;
			var p = [path,file].join('/');
			var stat = fs.statSync(p)
			if (stat.isDirectory()) {
				truncateFolderSync(p, true);
			}else{
				fs.unlink(p);
			}
		});
		recursive && fs.rmdirSync(path);
	}
}

exports.truncateFolderSync = truncateFolderSync;